# Contact (Social) Service

## üìå –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

Contact Service —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Å–≤—è–∑—è–º–∏ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏:

- –ø–æ–∏—Å–∫ –ø–æ –Ω–∏–∫–Ω–µ–π–º—É
- –æ—Ç–ø—Ä–∞–≤–∫–∞ / –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ / –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –¥—Ä—É–∂–±—ã
- —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π

## üíæ –•—Ä–∞–Ω–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ

- –î—Ä—É–∑—å—è:
  - `user_id`, `friend_id`, `status` (pending, accepted, declined), `created_at`
- –ò–Ω–¥–µ–∫—Å –ø–æ `nickname`

## üîó –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

| –°–µ—Ä–≤–∏—Å              | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                          |
|---------------------|-------------------------------------|
| `gateway`           | –ü—Ä–æ–∫—Å–∏ –¥–æ—Å—Ç—É–ø –∫ API                 |
| `profile-service`   | –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∏–∫–Ω–µ–π–º–∞ –ø–æ user_id       |
| `messaging-service` | –ü—Ä–æ–≤–µ—Ä–∫–∞ "–¥—Ä—É–≥ ‚Äî –Ω–µ –¥—Ä—É–≥"           |

## üîê –ú–µ—Ç–æ–¥—ã / API

| –ú–µ—Ç–æ–¥                            | –û–ø–∏—Å–∞–Ω–∏–µ                              |
|----------------------------------|---------------------------------------|
| `GET /contacts/search`           | –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –Ω–∏–∫–Ω–µ–π–º—É       |
| `POST /contacts/:user_id/add`    | –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ –¥—Ä—É–∂–±—É            |
| `POST /contacts/:user_id/accept` | –ü—Ä–∏–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å                        |
| `POST /contacts/:user_id/decline`| –û—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å                      |
| `DELETE /contacts/:user_id`      | –£–¥–∞–ª–∏—Ç—å –∏–∑ –¥—Ä—É–∑–µ–π                     |
| `GET /contacts/friends`          | –°–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π                         |
| `GET /contacts/pending`          | –ù–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã              |

## üì§ –ü—É–±–ª–∏–∫—É–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è

| –°–æ–±—ã—Ç–∏–µ                | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                      |
|------------------------|---------------------------------|
| `friendship.created`   | –ó–∞–ø—Ä–æ—Å –Ω–∞ –¥—Ä—É–∂–±—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω      |
| `friendship.accepted`  | –ó–∞–ø—Ä–æ—Å –ø—Ä–∏–Ω—è—Ç                   |
| `friendship.removed`   | –î—Ä—É–∑—å—è —É–¥–∞–ª–µ–Ω—ã                  |

## üì• –ü–æ—Ç—Ä–µ–±–ª—è–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è

| –°–æ–±—ã—Ç–∏–µ             | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                        |
|---------------------|-----------------------------------|
| `user.created`      | –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –¥–ª—è social graph |

## üîí –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –¢–æ–ª—å–∫–æ –≤–∑–∞–∏–º–Ω–æ –ø—Ä–∏–Ω—è—Ç—ã–µ –¥—Ä—É–∂–±—ã —Å—á–∏—Ç–∞—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º–∏
- –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –¥–≤–∏–∂–æ–∫ (OpenSearch) –∏–ª–∏ Postgres full-text search
